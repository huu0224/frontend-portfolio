<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>FE Kinetic Interaction</title>
    <style>
        :root { --primary: #6366f1; --bg: #0f172a; }
        body { margin: 0; background: var(--bg); color: white; display: flex; justify-content: center; align-items: center; height: 100vh; overflow: hidden; font-family: sans-serif; }

        .stack-container { position: relative; width: 350px; height: 450px; perspective: 1000px; }

        .stack-card {
            position: absolute; width: 100%; height: 100%;
            background: #1e293b; border-radius: 24px;
            display: flex; flex-direction: column; justify-content: flex-end; padding: 30px;
            box-sizing: border-box; border: 1px solid rgba(255,255,255,0.1);
            box-shadow: 0 25px 50px -12px rgba(0,0,0,0.5);
            transition: transform 0.6s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.6s;
            cursor: pointer; user-select: none;
        }

        .stack-card h2 { margin: 0; font-size: 24px; color: var(--primary); }
        .stack-card p { color: #94a3b8; font-size: 14px; margin-top: 10px; }

        .card-img {
            position: absolute; top: 0; left: 0; width: 100%; height: 60%;
            background: linear-gradient(135deg, #334155, #1e293b);
            border-radius: 24px 24px 0 0; overflow: hidden;
        }

        /* 클릭 안내 문구 */
        .instruction { position: absolute; bottom: -60px; width: 100%; text-align: center; color: #64748b; font-size: 13px; }
    </style>
</head>
<body>

<div class="stack-container" id="stack">
    <div class="instruction">카드를 클릭하여 다음 프로젝트를 확인하세요</div>
    </div>

<script>
    const stack = document.getElementById('stack');
    const data = [
        { title: "UI Design System", desc: "확장 가능한 아토믹 디자인 시스템 구축" },
        { title: "Real-time Chart", desc: "고성능 시각화 라이브러리 커스텀" },
        { title: "Web Performance", desc: "코어 웹 바이탈 지표 40% 개선" },
        { title: "Security Module", desc: "강력한 보안 인증 아키텍처 설계" }
    ];

    let cards = [];

    function initStack() {
        data.forEach((item, i) => {
            const card = document.createElement('div');
            card.className = 'stack-card';
            card.innerHTML = `
                <div class="card-img"><img src="https://picsum.photos/id/${i+10}/400/300" style="width:100%; height:100%; object-fit:cover; opacity:0.6;"></div>
                <h2>${item.title}</h2>
                <p>${item.desc}</p>
            `;
            card.style.zIndex = data.length - i;
            updateCardTransform(card, i);
            
            card.addEventListener('click', () => moveToBack());
            stack.appendChild(card);
            cards.push(card);
        });
    }

    function updateCardTransform(card, index) {
        // 인덱스에 따라 뒤로 갈수록 작아지고 위로 올라가는 계산
        const yOffset = index * -20;
        const scale = 1 - (index * 0.05);
        const opacity = 1 - (index * 0.2);
        card.style.transform = `translateY(${yOffset}px) scale(${scale})`;
        card.style.opacity = opacity;
    }

    function moveToBack() {
        if (cards.length < 2) return;
        
        const topCard = cards.shift(); // 맨 위 카드 추출
        
        // 1. 앞으로 튀어나오며 사라지는 애니메이션
        topCard.style.transform = `translateY(-150px) scale(1.1) rotate(-5deg)`;
        topCard.style.opacity = '0';
        topCard.style.zIndex = '0';

        setTimeout(() => {
            // 2. 다시 맨 뒤로 이동
            cards.push(topCard);
            cards.forEach((card, i) => {
                card.style.zIndex = cards.length - i;
                updateCardTransform(card, i);
            });
        }, 300);
    }

    initStack();
</script>

</body>
</html>